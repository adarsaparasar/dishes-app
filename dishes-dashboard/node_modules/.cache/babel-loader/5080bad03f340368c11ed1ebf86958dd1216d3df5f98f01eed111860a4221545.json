{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import io from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('https://dishes-app.onrender.com');function App(){const[dishes,setDishes]=useState([]);useEffect(()=>{axios.get('https://dishes-app.onrender.com/api/dishes').then(response=>{setDishes(response.data);});socket.on('dishUpdated',updatedDish=>{setDishes(prevDishes=>prevDishes.map(dish=>dish.dishId===updatedDish.dishId?updatedDish:dish));});},[]);const togglePublished=dishId=>{axios.put(\"https://dishes-app.onrender.com/api/dishes/\".concat(dishId,\"/toggle\")).then(response=>{setDishes(prevDishes=>prevDishes.map(dish=>dish.dishId===response.data.dishId?response.data:dish));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-bold mb-6 text-center\",children:\"Dishes Dashboard\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:dishes.map(dish=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-white shadow-lg rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"img\",{src:dish.imageUrl,alt:dish.dishName,className:\"w-full h-48 object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl md:text-2xl font-semibold mb-2\",children:dish.dishName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[\"Published: \",dish.isPublished?'Yes':'No']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>togglePublished(dish.dishId),className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\",children:\"Toggle Published\"})]})]},dish.dishId))})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","io","jsx","_jsx","jsxs","_jsxs","socket","App","dishes","setDishes","get","then","response","data","on","updatedDish","prevDishes","map","dish","dishId","togglePublished","put","concat","className","children","src","imageUrl","alt","dishName","isPublished","onClick"],"sources":["C:/Users/ACER/Desktop/Assignments/Euphoticlabs-Assignments/dishes-app/dishes-dashboard/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport io from 'socket.io-client';\n\nconst socket = io('https://dishes-app.onrender.com');\n\nfunction App() {\n  const [dishes, setDishes] = useState([]);\n\n  useEffect(() => {\n    axios.get('https://dishes-app.onrender.com/api/dishes')\n      .then(response => {\n        setDishes(response.data);\n      });\n\n    socket.on('dishUpdated', updatedDish => {\n      setDishes(prevDishes => \n        prevDishes.map(dish => \n          dish.dishId === updatedDish.dishId ? updatedDish : dish\n        )\n      );\n    });\n  }, []);\n\n  const togglePublished = (dishId) => {\n    axios.put(`https://dishes-app.onrender.com/api/dishes/${dishId}/toggle`)\n      .then(response => {\n        setDishes(prevDishes => \n          prevDishes.map(dish => \n            dish.dishId === response.data.dishId ? response.data : dish\n          )\n        );\n      });\n  };\n\n  return (\n    <div className=\"container mx-auto p-4\">\n  <h1 className=\"text-3xl md:text-4xl font-bold mb-6 text-center\">Dishes Dashboard</h1>\n  <ul className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n    {dishes.map(dish => (\n      <li key={dish.dishId} className=\"bg-white shadow-lg rounded-lg overflow-hidden\">\n        <img src={dish.imageUrl} alt={dish.dishName} className=\"w-full h-48 object-cover\" />\n        <div className=\"p-4\">\n          <h2 className=\"text-xl md:text-2xl font-semibold mb-2\">{dish.dishName}</h2>\n          <p className=\"text-gray-600 mb-4\">Published: {dish.isPublished ? 'Yes' : 'No'}</p>\n          <button\n            onClick={() => togglePublished(dish.dishId)}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\"\n          >\n            Toggle Published\n          </button>\n        </div>\n      </li>\n    ))}\n  </ul>\n</div>\n\n  );\n}\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,iCAAiC,CAAC,CAEpD,QAAS,CAAAM,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAExCC,SAAS,CAAC,IAAM,CACdC,KAAK,CAACU,GAAG,CAAC,4CAA4C,CAAC,CACpDC,IAAI,CAACC,QAAQ,EAAI,CAChBH,SAAS,CAACG,QAAQ,CAACC,IAAI,CAAC,CAC1B,CAAC,CAAC,CAEJP,MAAM,CAACQ,EAAE,CAAC,aAAa,CAAEC,WAAW,EAAI,CACtCN,SAAS,CAACO,UAAU,EAClBA,UAAU,CAACC,GAAG,CAACC,IAAI,EACjBA,IAAI,CAACC,MAAM,GAAKJ,WAAW,CAACI,MAAM,CAAGJ,WAAW,CAAGG,IACrD,CACF,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,eAAe,CAAID,MAAM,EAAK,CAClCnB,KAAK,CAACqB,GAAG,+CAAAC,MAAA,CAA+CH,MAAM,WAAS,CAAC,CACrER,IAAI,CAACC,QAAQ,EAAI,CAChBH,SAAS,CAACO,UAAU,EAClBA,UAAU,CAACC,GAAG,CAACC,IAAI,EACjBA,IAAI,CAACC,MAAM,GAAKP,QAAQ,CAACC,IAAI,CAACM,MAAM,CAAGP,QAAQ,CAACC,IAAI,CAAGK,IACzD,CACF,CAAC,CACH,CAAC,CAAC,CACN,CAAC,CAED,mBACEb,KAAA,QAAKkB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACxCrB,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACrFrB,IAAA,OAAIoB,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CACjEhB,MAAM,CAACS,GAAG,CAACC,IAAI,eACdb,KAAA,OAAsBkB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC7ErB,IAAA,QAAKsB,GAAG,CAAEP,IAAI,CAACQ,QAAS,CAACC,GAAG,CAAET,IAAI,CAACU,QAAS,CAACL,SAAS,CAAC,0BAA0B,CAAE,CAAC,cACpFlB,KAAA,QAAKkB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBrB,IAAA,OAAIoB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAEN,IAAI,CAACU,QAAQ,CAAK,CAAC,cAC3EvB,KAAA,MAAGkB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,aAAW,CAACN,IAAI,CAACW,WAAW,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cAClF1B,IAAA,WACE2B,OAAO,CAAEA,CAAA,GAAMV,eAAe,CAACF,IAAI,CAACC,MAAM,CAAE,CAC5CI,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CACvE,kBAED,CAAQ,CAAC,EACN,CAAC,GAXCN,IAAI,CAACC,MAYV,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAGN,CAEA,cAAe,CAAAZ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}